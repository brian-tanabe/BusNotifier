<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns="http://www.springframework.org/schema/beans"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <import resource="classpath*:spring-configuration/growl-configurations/gntp-listeners.xml"/>
    <import resource="classpath*:spring-configuration/common/event-bus-configuration.xml"/>

    <bean id="growlApplicationName" class="java.lang.String">
        <constructor-arg value="Bus Notifier"/>
    </bean>

    <bean id="growlApplicationInfoFactory" class="com.btanabe.busnotifier.notifiers.growl.factories.GrowlApplicationInfoFactory">
        <constructor-arg name="applicationName" ref="growlApplicationName"/>
    </bean>

    <bean id="growlNotificationInfoFactory"
          class="com.btanabe.busnotifier.notifiers.growl.factories.GrowlNotificationInfoFactory"/>

    <bean id="growlNotificationFactory" class="com.btanabe.busnotifier.notifiers.growl.factories.GrowlNotificationFactory"/>

    <bean id="growlClientFactory" class="com.btanabe.busnotifier.notifiers.growl.factories.GrowlClientFactory">
        <constructor-arg name="host" value="localhost"/>
        <constructor-arg name="port" value="23053"/>
        <constructor-arg name="listener" ref="loggingGntpListener"/>
    </bean>

    <bean id="growlNotifier" class="com.btanabe.busnotifier.notifiers.GrowlNotifier">
        <constructor-arg name="applicationInfoFactory" ref="growlApplicationInfoFactory"/>
        <constructor-arg name="notificationFactory" ref="growlNotificationFactory"/>
        <constructor-arg name="notificationInfoFactory" ref="growlNotificationInfoFactory"/>
        <constructor-arg name="clientFactory" ref="growlClientFactory"/>
        <constructor-arg name="eventBus" ref="notificationEventBus"/>
    </bean>

</beans>